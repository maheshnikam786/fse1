2023-07-13 00:24:22.214 ERROR 15716 --- [http-nio-8081-exec-6] c.r.m.security.jwt.AuthEntryPointJwt     : Unauthorized error: Bad credentials
2023-07-13 00:24:30.194 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:24:30.204 DEBUG 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:27:07.389 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:27:07.408 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:27:15.412 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:27:15.428 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:33:14.547 DEBUG 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : ganeshaya entered to book tickets
2023-07-13 00:33:14.611  INFO 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : available tickets 122
2023-07-13 00:33:14.767 DEBUG 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : ganeshaya booked 1 tickets
2023-07-13 00:33:16.877 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:33:16.895 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:33:35.495 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : ganeshaya entered to book tickets
2023-07-13 00:33:35.519  INFO 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : available tickets 126
2023-07-13 00:33:35.525 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : ganeshaya booked 2 tickets
2023-07-13 00:33:37.486 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:33:37.506 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:36:37.656 DEBUG 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:36:37.675 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:39:48.356 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:39:48.386 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:41:26.567 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : ganeshaya entered to book tickets
2023-07-13 00:41:26.583  INFO 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : available tickets 124
2023-07-13 00:41:26.587 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : ganeshaya booked 1 tickets
2023-07-13 00:41:28.557 DEBUG 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:41:28.607 DEBUG 15716 --- [http-nio-8081-exec-2] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:42:16.296 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:42:16.314 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:47:05.295 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:47:05.305 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:47:47.534 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:47:47.555  INFO 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : available tickets 123
2023-07-13 00:47:47.562 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh booked 3 tickets
2023-07-13 00:47:52.702 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:47:52.711 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:07.911 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:49:07.930  INFO 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : available tickets 120
2023-07-13 00:49:07.937 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 00:49:10.588 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:10.608 DEBUG 15716 --- [http-nio-8081-exec-6] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:26.201 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:49:26.224  INFO 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : available tickets 119
2023-07-13 00:49:26.229 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 00:49:29.226 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:29.240 DEBUG 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:40.540 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:49:40.560  INFO 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : available tickets 118
2023-07-13 00:49:40.564 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 00:49:42.496 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:49:42.521 DEBUG 15716 --- [http-nio-8081-exec-6] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:50:44.655 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:50:44.674 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:55:14.344 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:55:14.364  INFO 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : available tickets 117
2023-07-13 00:55:14.368 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 00:55:18.035 DEBUG 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:55:18.051 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:56:25.276 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 00:56:25.300  INFO 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : available tickets 116
2023-07-13 00:56:25.308 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 00:56:27.592 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 00:56:27.608 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:02:34.134 DEBUG 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 01:02:34.148  INFO 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : available tickets 115
2023-07-13 01:02:34.151 DEBUG 15716 --- [http-nio-8081-exec-1] c.r.movieapp.controller.MovieController  : mahesh booked 2 tickets
2023-07-13 01:02:36.231 DEBUG 15716 --- [http-nio-8081-exec-2] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:02:36.243 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:02:43.440 DEBUG 15716 --- [http-nio-8081-exec-6] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 01:02:43.459  INFO 15716 --- [http-nio-8081-exec-6] c.r.movieapp.controller.MovieController  : available tickets 113
2023-07-13 01:02:43.465 DEBUG 15716 --- [http-nio-8081-exec-6] c.r.movieapp.controller.MovieController  : mahesh booked 2 tickets
2023-07-13 01:02:45.210 DEBUG 15716 --- [http-nio-8081-exec-7] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:02:45.225 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:04:42.953 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 01:04:42.964  INFO 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : available tickets 111
2023-07-13 01:04:42.967 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 01:04:45.144 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:04:45.166 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:04:57.176 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh entered to book tickets
2023-07-13 01:04:57.195  INFO 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : available tickets 110
2023-07-13 01:04:57.200 DEBUG 15716 --- [http-nio-8081-exec-9] c.r.movieapp.controller.MovieController  : mahesh booked 1 tickets
2023-07-13 01:05:00.729 DEBUG 15716 --- [http-nio-8081-exec-8] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:05:00.792 DEBUG 15716 --- [http-nio-8081-exec-10] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:17:38.113 DEBUG 15716 --- [http-nio-8081-exec-3] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:17:38.129 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:19:59.546 DEBUG 15716 --- [http-nio-8081-exec-4] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 01:19:59.569 DEBUG 15716 --- [http-nio-8081-exec-5] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:31:08.751  INFO 15716 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:31:09.060  INFO 15716 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:31:09.244  INFO 15716 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:38:00.632  INFO 10832 --- [main] c.r.m.controller.MovieControllerTest     : Starting MovieControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 10832 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:38:00.633 DEBUG 10832 --- [main] c.r.m.controller.MovieControllerTest     : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:38:00.634  INFO 10832 --- [main] c.r.m.controller.MovieControllerTest     : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:38:03.061  INFO 10832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:38:03.169  INFO 10832 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:38:07.388  INFO 10832 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@7e8f23ad], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@7433ca19]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@5d221b20], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:38:07.401  INFO 10832 --- [cluster-ClusterId{value='64af6a979a344512487cda25', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:79}] to localhost:27017
2023-07-13 08:38:07.402  INFO 10832 --- [cluster-ClusterId{value='64af6a979a344512487cda25', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45011900}
2023-07-13 08:38:07.400  INFO 10832 --- [cluster-rtt-ClusterId{value='64af6a979a344512487cda25', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:80}] to localhost:27017
2023-07-13 08:38:12.994  INFO 10832 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:38:13.103  INFO 10832 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f695077, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b31a9e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c116f26, org.springframework.security.web.header.HeaderWriterFilter@335896bd, org.springframework.web.filter.CorsFilter@282240, org.springframework.security.web.authentication.logout.LogoutFilter@5a8656a2, com.rbp.movieapp.security.jwt.AuthTokenFilter@3b590f6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b340615, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c6b300a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e160a9e, org.springframework.security.web.session.SessionManagementFilter@6c9e74f3, org.springframework.security.web.access.ExceptionTranslationFilter@7096d451, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2acbe46d]
2023-07-13 08:38:14.420  INFO 10832 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:14.420  INFO 10832 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:14.422  INFO 10832 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-07-13 08:38:14.533  INFO 10832 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:38:14.664  INFO 10832 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6071631f:0/SimpleConnection@6c056020 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57064]
2023-07-13 08:38:14.767  INFO 10832 --- [main] c.r.m.controller.MovieControllerTest     : Started MovieControllerTest in 14.657 seconds (JVM running for 16.952)
2023-07-13 08:38:14.916  INFO 10832 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:81}] to localhost:27017
2023-07-13 08:38:16.065  INFO 10832 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:16.066  INFO 10832 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:16.067  INFO 10832 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-07-13 08:38:16.179  INFO 10832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:38:16.761  INFO 10832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:38:16.770  INFO 10832 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:38:36.053  INFO 16308 --- [main] c.r.m.controller.MovieControllerTest     : Starting MovieControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 16308 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:38:36.054 DEBUG 16308 --- [main] c.r.m.controller.MovieControllerTest     : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:38:36.055  INFO 16308 --- [main] c.r.m.controller.MovieControllerTest     : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:38:37.958  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:38:38.078  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:38:40.201  INFO 16308 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@5dd747c1], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1bdafb01]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@7aa3857b], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:38:40.203  INFO 16308 --- [cluster-rtt-ClusterId{value='64af6ab8145315594b911651', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:83}] to localhost:27017
2023-07-13 08:38:40.202  INFO 16308 --- [cluster-ClusterId{value='64af6ab8145315594b911651', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:82}] to localhost:27017
2023-07-13 08:38:40.204  INFO 16308 --- [cluster-ClusterId{value='64af6ab8145315594b911651', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36696700}
2023-07-13 08:38:45.508  INFO 16308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:38:45.614  INFO 16308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10f192d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f0d01c9, org.springframework.security.web.context.SecurityContextPersistenceFilter@397dfbe8, org.springframework.security.web.header.HeaderWriterFilter@77f04d1a, org.springframework.web.filter.CorsFilter@3c38e2bf, org.springframework.security.web.authentication.logout.LogoutFilter@2d34866a, com.rbp.movieapp.security.jwt.AuthTokenFilter@205b73d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66fff42f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@308be1a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c205259, org.springframework.security.web.session.SessionManagementFilter@6c46dc02, org.springframework.security.web.access.ExceptionTranslationFilter@26be0d23, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@17d45cfb]
2023-07-13 08:38:46.838  INFO 16308 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:46.839  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:46.842  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-07-13 08:38:46.930  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:38:47.009  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#48c3a0ef:0/SimpleConnection@d408c5d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57076]
2023-07-13 08:38:47.172  INFO 16308 --- [main] c.r.m.controller.MovieControllerTest     : Started MovieControllerTest in 11.605 seconds (JVM running for 14.438)
2023-07-13 08:38:47.307  INFO 16308 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:84}] to localhost:27017
2023-07-13 08:38:48.150  INFO 16308 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:48.151  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:48.152  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-07-13 08:38:48.197 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:38:48.329 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:38:48.477  INFO 16308 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:48.478  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:48.479  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-07-13 08:38:48.514  INFO 16308 --- [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:38:48.514  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:38:48.515  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-07-13 08:38:48.516 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:38:48.643  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.security.services.MovieServiceTest], using SpringBootContextLoader
2023-07-13 08:38:48.645  INFO 16308 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.security.services.MovieServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:38:48.646  INFO 16308 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.security.services.MovieServiceTest]: MovieServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:38:48.670  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.security.services.MovieServiceTest
2023-07-13 08:38:48.673  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:38:48.675  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1784d711, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4624e3d1, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@53b81a55, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3181fbe7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@c8e99, org.springframework.test.context.support.DirtiesContextTestExecutionListener@61d7df22, org.springframework.test.context.transaction.TransactionalTestExecutionListener@722e1bff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4cce889e, org.springframework.test.context.event.EventPublishingTestExecutionListener@28d2afd8, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@77a35b2f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@755057c7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4d62bb8b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70f37190, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1d642682, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6afdb486, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@321bf4b1, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@598f6c93]
2023-07-13 08:38:48.773  INFO 16308 --- [main] c.r.m.s.services.MovieServiceTest        : Starting MovieServiceTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 16308 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:38:48.774 DEBUG 16308 --- [main] c.r.m.s.services.MovieServiceTest        : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:38:48.774  INFO 16308 --- [main] c.r.m.s.services.MovieServiceTest        : The following 1 profile is active: "test"
2023-07-13 08:38:49.400  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:38:49.455  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:38:49.944  INFO 16308 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@15844237], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1bdafb01]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@2e04dbc1], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:38:49.951  INFO 16308 --- [cluster-rtt-ClusterId{value='64af6ac1145315594b91165b', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:85}] to localhost:27017
2023-07-13 08:38:49.952  INFO 16308 --- [cluster-ClusterId{value='64af6ac1145315594b91165b', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:86}] to localhost:27017
2023-07-13 08:38:49.953  INFO 16308 --- [cluster-ClusterId{value='64af6ac1145315594b91165b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4668000}
2023-07-13 08:38:52.556  INFO 16308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:38:52.632  INFO 16308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10fa270e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75dc995f, org.springframework.security.web.context.SecurityContextPersistenceFilter@31aec04a, org.springframework.security.web.header.HeaderWriterFilter@3fc92211, org.springframework.web.filter.CorsFilter@51c660c8, org.springframework.security.web.authentication.logout.LogoutFilter@532782f5, com.rbp.movieapp.security.jwt.AuthTokenFilter@498102a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@109fff4a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e5f5ddf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8829ecd, org.springframework.security.web.session.SessionManagementFilter@4781bb01, org.springframework.security.web.access.ExceptionTranslationFilter@4eb313ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19203ff3]
2023-07-13 08:38:53.255  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:38:53.260  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1d82e396:0/SimpleConnection@698e2cba [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57080]
2023-07-13 08:38:53.272  INFO 16308 --- [main] c.r.m.s.services.MovieServiceTest        : Started MovieServiceTest in 4.575 seconds (JVM running for 20.538)
2023-07-13 08:38:53.280  INFO 16308 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:87}] to localhost:27017
2023-07-13 08:38:54.404  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.MovieappApplicationTests], using SpringBootContextLoader
2023-07-13 08:38:54.405  INFO 16308 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.MovieappApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:38:54.406  INFO 16308 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.MovieappApplicationTests]: MovieappApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:38:54.413  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.MovieappApplicationTests
2023-07-13 08:38:54.415  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:38:54.416  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@26c24e5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@29509774, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@9198fe3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6cc9f35d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@f61b92d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@22277482, org.springframework.test.context.transaction.TransactionalTestExecutionListener@670481b2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4474c514, org.springframework.test.context.event.EventPublishingTestExecutionListener@465eb466, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5fc44b4b, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1c8e4810, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7e3062f0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4dfe14d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@309d9033, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5ebd80f8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23674e3d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1e82b631]
2023-07-13 08:38:54.459  INFO 16308 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Starting MovieappApplicationTests using Java 19.0.1 on DESKTOP-HC83FG2 with PID 16308 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:38:54.459 DEBUG 16308 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:38:54.460  INFO 16308 --- [main] c.rbp.movieapp.MovieappApplicationTests  : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:38:54.917  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:38:54.957  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:38:55.189  INFO 16308 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@1a9ba6c2], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1bdafb01]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@2e940dd0], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:38:55.193  INFO 16308 --- [cluster-rtt-ClusterId{value='64af6ac7145315594b91165e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:8, serverValue:88}] to localhost:27017
2023-07-13 08:38:55.195  INFO 16308 --- [cluster-ClusterId{value='64af6ac7145315594b91165e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:89}] to localhost:27017
2023-07-13 08:38:55.195  INFO 16308 --- [cluster-ClusterId{value='64af6ac7145315594b91165e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2873500}
2023-07-13 08:38:57.271  INFO 16308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:38:57.328  INFO 16308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5aa0d535, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cb32ca5, org.springframework.security.web.context.SecurityContextPersistenceFilter@412bb41f, org.springframework.security.web.header.HeaderWriterFilter@11893180, org.springframework.web.filter.CorsFilter@76334a3a, org.springframework.security.web.authentication.logout.LogoutFilter@7ba5d307, com.rbp.movieapp.security.jwt.AuthTokenFilter@5e59844f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dbf7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cb09347, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28cfbcc, org.springframework.security.web.session.SessionManagementFilter@74f1e112, org.springframework.security.web.access.ExceptionTranslationFilter@3b87c881, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30130a31]
2023-07-13 08:38:57.810  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:38:57.814  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3f6f26cb:0/SimpleConnection@3e1ba156 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57084]
2023-07-13 08:38:57.854  INFO 16308 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Started MovieappApplicationTests in 3.435 seconds (JVM running for 25.119)
2023-07-13 08:38:57.859  INFO 16308 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:9, serverValue:90}] to localhost:27017
2023-07-13 08:38:58.575  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.controller.MovieAppControllerTest], using SpringBootContextLoader
2023-07-13 08:38:58.577  INFO 16308 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:38:58.578  INFO 16308 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: MovieAppControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:38:58.585  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.controller.MovieAppControllerTest
2023-07-13 08:38:58.589  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:38:58.592  INFO 16308 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1440a166, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@74f6237, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@50e7f88b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7a461744, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6b1cc2fb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@173e4b75, org.springframework.test.context.transaction.TransactionalTestExecutionListener@78f2cab9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@32441ed4, org.springframework.test.context.event.EventPublishingTestExecutionListener@3fc2197d, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5a429813, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@348b26e0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@26ab3c1b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@98dc042, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@47c14360, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2a90c15e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@55a46bf3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@324c3ed5]
2023-07-13 08:38:58.643  INFO 16308 --- [main] c.r.m.controller.MovieAppControllerTest  : Starting MovieAppControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 16308 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:38:58.644 DEBUG 16308 --- [main] c.r.m.controller.MovieAppControllerTest  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:38:58.645  INFO 16308 --- [main] c.r.m.controller.MovieAppControllerTest  : The following 1 profile is active: "test"
2023-07-13 08:38:59.094  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:38:59.138  INFO 16308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:38:59.486  INFO 16308 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@74ed11d7], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@1bdafb01]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@29794ef5], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:38:59.488  INFO 16308 --- [cluster-ClusterId{value='64af6acb145315594b911667', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:10, serverValue:91}] to localhost:27017
2023-07-13 08:38:59.489  INFO 16308 --- [cluster-ClusterId{value='64af6acb145315594b911667', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1878300}
2023-07-13 08:38:59.491  INFO 16308 --- [cluster-rtt-ClusterId{value='64af6acb145315594b911667', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:11, serverValue:92}] to localhost:27017
2023-07-13 08:39:01.364  INFO 16308 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:39:01.408  INFO 16308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e216fc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fcd300e, org.springframework.security.web.context.SecurityContextPersistenceFilter@227cba85, org.springframework.security.web.header.HeaderWriterFilter@56f3f9da, org.springframework.web.filter.CorsFilter@77971bbf, org.springframework.security.web.authentication.logout.LogoutFilter@22a5f12, com.rbp.movieapp.security.jwt.AuthTokenFilter@5e9c6d8a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19e552a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5091456c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b760eb7, org.springframework.security.web.session.SessionManagementFilter@56587330, org.springframework.security.web.access.ExceptionTranslationFilter@1766b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1836228d]
2023-07-13 08:39:01.841  INFO 16308 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:39:01.841  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:39:01.842  INFO 16308 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-07-13 08:39:01.870  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:39:01.874  INFO 16308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#60a3a0fa:0/SimpleConnection@6a17ab87 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57088]
2023-07-13 08:39:01.884  INFO 16308 --- [main] c.r.m.controller.MovieAppControllerTest  : Started MovieAppControllerTest in 3.284 seconds (JVM running for 29.149)
2023-07-13 08:39:01.887  INFO 16308 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:12, serverValue:93}] to localhost:27017
2023-07-13 08:39:02.773 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:39:02.774 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : currently no movies are available
2023-07-13 08:39:02.786 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:39:02.796 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:39:02.797 DEBUG 16308 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies with title:Movie
2023-07-13 08:39:02.913  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:39:03.367  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:39:03.375  INFO 16308 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:39:03.414  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:39:04.372  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:39:04.377  INFO 16308 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:39:04.401  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:39:04.945  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:39:04.947  INFO 16308 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:39:07.710  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:39:07.946  INFO 16308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:39:07.948  INFO 16308 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:40:56.885  INFO 6812 --- [main] c.r.m.controller.MovieControllerTest     : Starting MovieControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 6812 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:40:56.887 DEBUG 6812 --- [main] c.r.m.controller.MovieControllerTest     : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:40:56.888  INFO 6812 --- [main] c.r.m.controller.MovieControllerTest     : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:40:58.702  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:40:58.790  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:41:00.891  INFO 6812 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@7769d9b6], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@248d3a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@3c71cf3e], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:41:00.899  INFO 6812 --- [cluster-rtt-ClusterId{value='64af6b4433f8552b6033c560', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:94}] to localhost:27017
2023-07-13 08:41:00.900  INFO 6812 --- [cluster-ClusterId{value='64af6b4433f8552b6033c560', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:95}] to localhost:27017
2023-07-13 08:41:00.901  INFO 6812 --- [cluster-ClusterId{value='64af6b4433f8552b6033c560', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=34659700}
2023-07-13 08:41:06.134  INFO 6812 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:41:06.238  INFO 6812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ae23815, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63ccb1b2, org.springframework.security.web.context.SecurityContextPersistenceFilter@3791af, org.springframework.security.web.header.HeaderWriterFilter@2fb70301, org.springframework.web.filter.CorsFilter@1165a952, org.springframework.security.web.authentication.logout.LogoutFilter@27d5eb00, com.rbp.movieapp.security.jwt.AuthTokenFilter@1b868ef0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32cde414, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e4bb10b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102f3f05, org.springframework.security.web.session.SessionManagementFilter@b5390, org.springframework.security.web.access.ExceptionTranslationFilter@2560a7be, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e0a112f]
2023-07-13 08:41:07.413  INFO 6812 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:41:07.414  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:41:07.417  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-07-13 08:41:07.511  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:41:07.599  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#48c3a0ef:0/SimpleConnection@5d50e7f6 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57103]
2023-07-13 08:41:07.718  INFO 6812 --- [main] c.r.m.controller.MovieControllerTest     : Started MovieControllerTest in 11.468 seconds (JVM running for 13.564)
2023-07-13 08:41:07.915  INFO 6812 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:96}] to localhost:27017
2023-07-13 08:41:08.882 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:41:09.120  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.security.services.MovieServiceTest], using SpringBootContextLoader
2023-07-13 08:41:09.122  INFO 6812 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.security.services.MovieServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:41:09.123  INFO 6812 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.security.services.MovieServiceTest]: MovieServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:41:09.141  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.security.services.MovieServiceTest
2023-07-13 08:41:09.143  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:41:09.145  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@68cc6fa4, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@484dde7d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5d729af6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2052c49f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2be83e7e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@df0b348, org.springframework.test.context.transaction.TransactionalTestExecutionListener@441c2d2a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@72dc7f0a, org.springframework.test.context.event.EventPublishingTestExecutionListener@18ada4e1, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@10cf3e4f, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@359f3401, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@242a3997, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@51d50b5f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@38816a6c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@74727e41, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@16117d9, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@78977b59]
2023-07-13 08:41:09.216  INFO 6812 --- [main] c.r.m.s.services.MovieServiceTest        : Starting MovieServiceTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 6812 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:41:09.217 DEBUG 6812 --- [main] c.r.m.s.services.MovieServiceTest        : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:41:09.217  INFO 6812 --- [main] c.r.m.s.services.MovieServiceTest        : The following 1 profile is active: "test"
2023-07-13 08:41:09.834  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:41:09.878  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:41:10.372  INFO 6812 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@2806fe58], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@248d3a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@755c29b0], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:41:10.379  INFO 6812 --- [cluster-ClusterId{value='64af6b4e33f8552b6033c56a', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:97}] to localhost:27017
2023-07-13 08:41:10.380  INFO 6812 --- [cluster-ClusterId{value='64af6b4e33f8552b6033c56a', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4948900}
2023-07-13 08:41:10.383  INFO 6812 --- [cluster-rtt-ClusterId{value='64af6b4e33f8552b6033c56a', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:98}] to localhost:27017
2023-07-13 08:41:12.831  INFO 6812 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:41:12.900  INFO 6812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23bf19c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7def08fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d837af7, org.springframework.security.web.header.HeaderWriterFilter@4ac7927a, org.springframework.web.filter.CorsFilter@12939937, org.springframework.security.web.authentication.logout.LogoutFilter@4ff3ca23, com.rbp.movieapp.security.jwt.AuthTokenFilter@14501070, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dc997, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32cfd722, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f7a2262, org.springframework.security.web.session.SessionManagementFilter@25bfc558, org.springframework.security.web.access.ExceptionTranslationFilter@3c48bbf3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ef7064b]
2023-07-13 08:41:13.594  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:41:13.600  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4dbeae45:0/SimpleConnection@ab5f1d5 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57107]
2023-07-13 08:41:13.618  INFO 6812 --- [main] c.r.m.s.services.MovieServiceTest        : Started MovieServiceTest in 4.463 seconds (JVM running for 19.464)
2023-07-13 08:41:13.622  INFO 6812 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:99}] to localhost:27017
2023-07-13 08:41:14.350  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.MovieappApplicationTests], using SpringBootContextLoader
2023-07-13 08:41:14.351  INFO 6812 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.MovieappApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:41:14.352  INFO 6812 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.MovieappApplicationTests]: MovieappApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:41:14.359  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.MovieappApplicationTests
2023-07-13 08:41:14.363  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:41:14.364  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1dcfbad1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@19e5e846, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@12418d3f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2258228f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@42210d27, org.springframework.test.context.support.DirtiesContextTestExecutionListener@74307afd, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6a063931, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@9a932a4, org.springframework.test.context.event.EventPublishingTestExecutionListener@43ab4e83, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@343b3399, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6f2f4b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2f5378cd, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3695e4f2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5bdfae42, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4e396d1c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7a98f106, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@633328d3]
2023-07-13 08:41:14.421  INFO 6812 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Starting MovieappApplicationTests using Java 19.0.1 on DESKTOP-HC83FG2 with PID 6812 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:41:14.422 DEBUG 6812 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:41:14.423  INFO 6812 --- [main] c.rbp.movieapp.MovieappApplicationTests  : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:41:14.873  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:41:14.918  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:41:15.134  INFO 6812 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@4844cbe4], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@248d3a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@4c752425], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:41:15.140  INFO 6812 --- [cluster-ClusterId{value='64af6b5333f8552b6033c56d', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:100}] to localhost:27017
2023-07-13 08:41:15.140  INFO 6812 --- [cluster-ClusterId{value='64af6b5333f8552b6033c56d', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4456600}
2023-07-13 08:41:15.141  INFO 6812 --- [cluster-rtt-ClusterId{value='64af6b5333f8552b6033c56d', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:8, serverValue:101}] to localhost:27017
2023-07-13 08:41:17.289  INFO 6812 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:41:17.339  INFO 6812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16fa28eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28fdce67, org.springframework.security.web.context.SecurityContextPersistenceFilter@1683b9ba, org.springframework.security.web.header.HeaderWriterFilter@7b2adbde, org.springframework.web.filter.CorsFilter@24c9a52a, org.springframework.security.web.authentication.logout.LogoutFilter@59bdd277, com.rbp.movieapp.security.jwt.AuthTokenFilter@55105271, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@470b7fcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ad2a8db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@126a8548, org.springframework.security.web.session.SessionManagementFilter@6d7c8a2, org.springframework.security.web.access.ExceptionTranslationFilter@7734ddb8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71b01319]
2023-07-13 08:41:17.808  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:41:17.814  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#53425450:0/SimpleConnection@708378cc [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57111]
2023-07-13 08:41:17.824  INFO 6812 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Started MovieappApplicationTests in 3.455 seconds (JVM running for 23.671)
2023-07-13 08:41:17.828  INFO 6812 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:9, serverValue:102}] to localhost:27017
2023-07-13 08:41:18.339  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.controller.MovieAppControllerTest], using SpringBootContextLoader
2023-07-13 08:41:18.341  INFO 6812 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:41:18.342  INFO 6812 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: MovieAppControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:41:18.349  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.controller.MovieAppControllerTest
2023-07-13 08:41:18.353  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:41:18.356  INFO 6812 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27b89e0a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@42bb0492, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6eed5b68, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4377b35b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@20dc2df1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a5922ec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e6b08d4, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@40f88929, org.springframework.test.context.event.EventPublishingTestExecutionListener@18a9762, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@72378bfd, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@147c00c7, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@104972a0, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@45add64c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@b0bd567, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7f8586f9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@248227db, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@fb69ab1]
2023-07-13 08:41:18.410  INFO 6812 --- [main] c.r.m.controller.MovieAppControllerTest  : Starting MovieAppControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 6812 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:41:18.412 DEBUG 6812 --- [main] c.r.m.controller.MovieAppControllerTest  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:41:18.412  INFO 6812 --- [main] c.r.m.controller.MovieAppControllerTest  : The following 1 profile is active: "test"
2023-07-13 08:41:19.011  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:41:19.073  INFO 6812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:41:19.512  INFO 6812 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@29db9746], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@248d3a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@17cf5dcc], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:41:19.519  INFO 6812 --- [cluster-ClusterId{value='64af6b5733f8552b6033c576', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:10, serverValue:103}] to localhost:27017
2023-07-13 08:41:19.520  INFO 6812 --- [cluster-ClusterId{value='64af6b5733f8552b6033c576', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4223900}
2023-07-13 08:41:19.522  INFO 6812 --- [cluster-rtt-ClusterId{value='64af6b5733f8552b6033c576', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:11, serverValue:104}] to localhost:27017
2023-07-13 08:41:21.706  INFO 6812 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:41:21.776  INFO 6812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3266c7cf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@157002b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@3db84bfa, org.springframework.security.web.header.HeaderWriterFilter@4d00b076, org.springframework.web.filter.CorsFilter@66227940, org.springframework.security.web.authentication.logout.LogoutFilter@5faa0c51, com.rbp.movieapp.security.jwt.AuthTokenFilter@ba76911, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f040f9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77cf9b08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ffb8f15, org.springframework.security.web.session.SessionManagementFilter@66f62b8c, org.springframework.security.web.access.ExceptionTranslationFilter@3a571d3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@320bfc61]
2023-07-13 08:41:22.289  INFO 6812 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:41:22.289  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:41:22.291  INFO 6812 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-07-13 08:41:22.311  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:41:22.315  INFO 6812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#746f5752:0/SimpleConnection@411bed55 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57115]
2023-07-13 08:41:22.324  INFO 6812 --- [main] c.r.m.controller.MovieAppControllerTest  : Started MovieAppControllerTest in 3.964 seconds (JVM running for 28.17)
2023-07-13 08:41:22.328  INFO 6812 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:12, serverValue:105}] to localhost:27017
2023-07-13 08:41:23.312 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:41:23.313 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : currently no movies are available
2023-07-13 08:41:23.326 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:41:23.343 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:41:23.344 DEBUG 6812 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies with title:Movie
2023-07-13 08:41:23.422  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:41:24.000  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:41:24.026  INFO 6812 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:41:24.055  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:41:24.756  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:41:24.758  INFO 6812 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:41:24.792  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:41:24.941  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:41:24.945  INFO 6812 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:41:24.966  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:41:25.361  INFO 6812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:41:25.364  INFO 6812 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:43:45.870  INFO 7764 --- [main] c.r.m.controller.MovieControllerTest     : Starting MovieControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 7764 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:43:50.608 DEBUG 7764 --- [main] c.r.m.controller.MovieControllerTest     : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:43:50.614  INFO 7764 --- [main] c.r.m.controller.MovieControllerTest     : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:43:52.269  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:43:52.356  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:43:54.650  INFO 7764 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@53e28097], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@6e794f53]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@75f4d8a8], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:43:54.664  INFO 7764 --- [cluster-ClusterId{value='64af6bf26c3ae467ad496f0e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:107}] to localhost:27017
2023-07-13 08:43:54.665  INFO 7764 --- [cluster-ClusterId{value='64af6bf26c3ae467ad496f0e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=32568300}
2023-07-13 08:43:54.665  INFO 7764 --- [cluster-rtt-ClusterId{value='64af6bf26c3ae467ad496f0e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:106}] to localhost:27017
2023-07-13 08:44:00.143  INFO 7764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:44:00.238  INFO 7764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17541204, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2dec57c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@29b4444a, org.springframework.security.web.header.HeaderWriterFilter@5af4328e, org.springframework.web.filter.CorsFilter@5b8599c7, org.springframework.security.web.authentication.logout.LogoutFilter@7526bb18, com.rbp.movieapp.security.jwt.AuthTokenFilter@31e9d94f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d34866a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26291192, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69a3944, org.springframework.security.web.session.SessionManagementFilter@15ee8861, org.springframework.security.web.access.ExceptionTranslationFilter@178c6261, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6018d82c]
2023-07-13 08:44:01.918  INFO 7764 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:44:01.919  INFO 7764 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:44:01.921  INFO 7764 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-07-13 08:44:02.025  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:44:02.136  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#36eb8e07:0/SimpleConnection@12d28106 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57133]
2023-07-13 08:44:02.268  INFO 7764 --- [main] c.r.m.controller.MovieControllerTest     : Started MovieControllerTest in 16.853 seconds (JVM running for 18.868)
2023-07-13 08:44:02.522  INFO 7764 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:108}] to localhost:27017
2023-07-13 08:44:03.740 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:44:04.031  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.security.services.MovieServiceTest], using SpringBootContextLoader
2023-07-13 08:44:04.033  INFO 7764 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.security.services.MovieServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:44:04.034  INFO 7764 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.security.services.MovieServiceTest]: MovieServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:44:04.063  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.security.services.MovieServiceTest
2023-07-13 08:44:04.066  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:44:04.068  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5c85ed05, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@23657729, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@365291bd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@68c05c5b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1b5e6983, org.springframework.test.context.support.DirtiesContextTestExecutionListener@130a99fe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@31773d5b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5bbf8daa, org.springframework.test.context.event.EventPublishingTestExecutionListener@33c5e52f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@74474fc0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7cd239f6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5ba7391b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@475753dd, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@9203db8, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@64d0b8e3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@65d3a83, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7be9582e]
2023-07-13 08:44:04.164  INFO 7764 --- [main] c.r.m.s.services.MovieServiceTest        : Starting MovieServiceTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 7764 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:44:04.164 DEBUG 7764 --- [main] c.r.m.s.services.MovieServiceTest        : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:44:04.165  INFO 7764 --- [main] c.r.m.s.services.MovieServiceTest        : The following 1 profile is active: "test"
2023-07-13 08:44:04.845  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:44:04.894  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:44:05.592  INFO 7764 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@37e9d191], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@6e794f53]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@53a3ccc], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:44:05.613  INFO 7764 --- [cluster-ClusterId{value='64af6bfd6c3ae467ad496f18', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:109}] to localhost:27017
2023-07-13 08:44:05.613  INFO 7764 --- [cluster-ClusterId{value='64af6bfd6c3ae467ad496f18', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5236700}
2023-07-13 08:44:05.620  INFO 7764 --- [cluster-rtt-ClusterId{value='64af6bfd6c3ae467ad496f18', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:110}] to localhost:27017
2023-07-13 08:44:09.649  INFO 7764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:44:09.741  INFO 7764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb70e94, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5abf9a76, org.springframework.security.web.context.SecurityContextPersistenceFilter@33e19be9, org.springframework.security.web.header.HeaderWriterFilter@57dd4bc9, org.springframework.web.filter.CorsFilter@4e132a9b, org.springframework.security.web.authentication.logout.LogoutFilter@606c2e4b, com.rbp.movieapp.security.jwt.AuthTokenFilter@7f2d4ffc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ed2aa8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ec379a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38293d23, org.springframework.security.web.session.SessionManagementFilter@47897093, org.springframework.security.web.access.ExceptionTranslationFilter@5aa0e9c6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f15d346]
2023-07-13 08:44:10.429  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:44:10.438  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6237927a:0/SimpleConnection@67e7fe73 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57166]
2023-07-13 08:44:10.455  INFO 7764 --- [main] c.r.m.s.services.MovieServiceTest        : Started MovieServiceTest in 6.366 seconds (JVM running for 27.056)
2023-07-13 08:44:10.459  INFO 7764 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:111}] to localhost:27017
2023-07-13 08:44:11.115  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.MovieappApplicationTests], using SpringBootContextLoader
2023-07-13 08:44:11.117  INFO 7764 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.MovieappApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:44:11.117  INFO 7764 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.MovieappApplicationTests]: MovieappApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:44:11.126  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.MovieappApplicationTests
2023-07-13 08:44:11.130  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:44:11.131  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@78854721, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@11759e4a, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@354a1239, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78fcc4ef, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a12389e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17287458, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7296675e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6cd31e5f, org.springframework.test.context.event.EventPublishingTestExecutionListener@57be0d93, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3e02988, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@420d123d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@36d8ddc5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@112d8c18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@13835bdc, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@39352f6b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4973fb7d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@34c3e307]
2023-07-13 08:44:11.191  INFO 7764 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Starting MovieappApplicationTests using Java 19.0.1 on DESKTOP-HC83FG2 with PID 7764 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:44:11.192 DEBUG 7764 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:44:11.193  INFO 7764 --- [main] c.rbp.movieapp.MovieappApplicationTests  : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:44:11.761  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:44:11.814  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:44:12.236  INFO 7764 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@45cd5c56], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@6e794f53]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@8fe054], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:44:12.245  INFO 7764 --- [cluster-rtt-ClusterId{value='64af6c046c3ae467ad496f1b', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:8, serverValue:113}] to localhost:27017
2023-07-13 08:44:12.246  INFO 7764 --- [cluster-ClusterId{value='64af6c046c3ae467ad496f1b', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:112}] to localhost:27017
2023-07-13 08:44:12.246  INFO 7764 --- [cluster-ClusterId{value='64af6c046c3ae467ad496f1b', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5940600}
2023-07-13 08:44:15.188  INFO 7764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:44:15.253  INFO 7764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a2d676e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e5a8000, org.springframework.security.web.context.SecurityContextPersistenceFilter@2762bd70, org.springframework.security.web.header.HeaderWriterFilter@6cf71064, org.springframework.web.filter.CorsFilter@6970687e, org.springframework.security.web.authentication.logout.LogoutFilter@7c3b8b26, com.rbp.movieapp.security.jwt.AuthTokenFilter@a6f34f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b94c22d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fb4870b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b6824c1, org.springframework.security.web.session.SessionManagementFilter@4b9b57d9, org.springframework.security.web.access.ExceptionTranslationFilter@3dd22110, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4494ed08]
2023-07-13 08:44:15.999  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:44:16.065  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52f8effb:0/SimpleConnection@7207cb8b [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57189]
2023-07-13 08:44:16.080  INFO 7764 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Started MovieappApplicationTests in 4.945 seconds (JVM running for 32.681)
2023-07-13 08:44:16.085  INFO 7764 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:9, serverValue:114}] to localhost:27017
2023-07-13 08:44:17.303  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.controller.MovieAppControllerTest], using SpringBootContextLoader
2023-07-13 08:44:17.305  INFO 7764 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:44:17.306  INFO 7764 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: MovieAppControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:44:17.313  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.controller.MovieAppControllerTest
2023-07-13 08:44:17.318  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:44:17.321  INFO 7764 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@f2df380, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2c3762c7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6cd0f9a4, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d992634, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2d487df4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a7e13c0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5188c0f2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5524e471, org.springframework.test.context.event.EventPublishingTestExecutionListener@3b6d94fc, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@71c77042, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@665fb1d8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@142ac60e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@43376a03, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@9b84747, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1272f6d9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@50aa482f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2835574b]
2023-07-13 08:44:17.580  INFO 7764 --- [main] c.r.m.controller.MovieAppControllerTest  : Starting MovieAppControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 7764 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:44:17.580 DEBUG 7764 --- [main] c.r.m.controller.MovieAppControllerTest  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:44:17.581  INFO 7764 --- [main] c.r.m.controller.MovieAppControllerTest  : The following 1 profile is active: "test"
2023-07-13 08:44:18.903  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:44:19.183  INFO 7764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 229 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:44:19.856  INFO 7764 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@2bdc2c26], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@6e794f53]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@553d9329], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:44:19.858  INFO 7764 --- [cluster-rtt-ClusterId{value='64af6c0b6c3ae467ad496f24', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:11, serverValue:115}] to localhost:27017
2023-07-13 08:44:19.861  INFO 7764 --- [cluster-ClusterId{value='64af6c0b6c3ae467ad496f24', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:10, serverValue:116}] to localhost:27017
2023-07-13 08:44:19.861  INFO 7764 --- [cluster-ClusterId{value='64af6c0b6c3ae467ad496f24', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=4647100}
2023-07-13 08:44:22.559  INFO 7764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:44:22.662  INFO 7764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@511f21f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f97d43e, org.springframework.security.web.context.SecurityContextPersistenceFilter@79753f20, org.springframework.security.web.header.HeaderWriterFilter@4c431e2a, org.springframework.web.filter.CorsFilter@25c6a9de, org.springframework.security.web.authentication.logout.LogoutFilter@6c927487, com.rbp.movieapp.security.jwt.AuthTokenFilter@142422a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50c8a382, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ae45ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c9cd930, org.springframework.security.web.session.SessionManagementFilter@33317d26, org.springframework.security.web.access.ExceptionTranslationFilter@4fecdf0b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2cb3bc0e]
2023-07-13 08:44:23.284  INFO 7764 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:44:23.284  INFO 7764 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:44:23.286  INFO 7764 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2023-07-13 08:44:23.315  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:44:23.323  INFO 7764 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#479f1d09:0/SimpleConnection@2350e46 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57198]
2023-07-13 08:44:23.337  INFO 7764 --- [main] c.r.m.controller.MovieAppControllerTest  : Started MovieAppControllerTest in 5.826 seconds (JVM running for 39.938)
2023-07-13 08:44:23.340  INFO 7764 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:12, serverValue:117}] to localhost:27017
2023-07-13 08:44:28.969 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:44:28.970 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : currently no movies are available
2023-07-13 08:44:28.982 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:44:28.994 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:44:28.995 DEBUG 7764 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies with title:Movie
2023-07-13 08:44:29.073  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:44:29.812  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:44:29.817  INFO 7764 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:44:29.847  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:44:30.821  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:44:30.822  INFO 7764 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:44:30.831  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:44:31.302  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:44:31.304  INFO 7764 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:44:31.321  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:44:31.426  INFO 7764 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:44:31.427  INFO 7764 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:45:47.798  INFO 4776 --- [main] c.r.m.s.services.MovieServiceTest        : Starting MovieServiceTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 4776 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:45:47.800 DEBUG 4776 --- [main] c.r.m.s.services.MovieServiceTest        : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:45:47.800  INFO 4776 --- [main] c.r.m.s.services.MovieServiceTest        : The following 1 profile is active: "test"
2023-07-13 08:45:50.309  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:45:50.413  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 92 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:45:53.978  INFO 4776 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@42d174ad], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@4ec0229c]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@173a5fad], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:45:53.989  INFO 4776 --- [cluster-rtt-ClusterId{value='64af6c69c41a5861b71ba240', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:119}] to localhost:27017
2023-07-13 08:45:53.989  INFO 4776 --- [cluster-ClusterId{value='64af6c69c41a5861b71ba240', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:118}] to localhost:27017
2023-07-13 08:45:53.990  INFO 4776 --- [cluster-ClusterId{value='64af6c69c41a5861b71ba240', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=28023300}
2023-07-13 08:46:00.911  INFO 4776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:46:01.071  INFO 4776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1299c874, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2adce412, org.springframework.security.web.context.SecurityContextPersistenceFilter@79c849c7, org.springframework.security.web.header.HeaderWriterFilter@54c3e686, org.springframework.web.filter.CorsFilter@629cf53c, org.springframework.security.web.authentication.logout.LogoutFilter@58ad0586, com.rbp.movieapp.security.jwt.AuthTokenFilter@6d84ab90, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65a2e14e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e9f1a4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3182143c, org.springframework.security.web.session.SessionManagementFilter@48b9773b, org.springframework.security.web.access.ExceptionTranslationFilter@6978a32a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@106f2425]
2023-07-13 08:46:02.441  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:46:02.499  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5690c2a8:0/SimpleConnection@4b1ad751 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57268]
2023-07-13 08:46:02.628  INFO 4776 --- [main] c.r.m.s.services.MovieServiceTest        : Started MovieServiceTest in 15.425 seconds (JVM running for 18.089)
2023-07-13 08:46:02.780  INFO 4776 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:120}] to localhost:27017
2023-07-13 08:46:03.457  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.MovieappApplicationTests], using SpringBootContextLoader
2023-07-13 08:46:03.462  INFO 4776 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.MovieappApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:46:03.463  INFO 4776 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.MovieappApplicationTests]: MovieappApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:46:03.474  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.MovieappApplicationTests
2023-07-13 08:46:03.478  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:46:03.480  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@79392584, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@cf82c58, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1407b93f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5aff8207, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6a5a99d9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@278df226, org.springframework.test.context.transaction.TransactionalTestExecutionListener@eea69a9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@28a33dc9, org.springframework.test.context.event.EventPublishingTestExecutionListener@1609ed55, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5edd2170, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@327ac23, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@32db94fb, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6b61a4b0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5c00de0d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6278371a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@c6a1be2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6a486afb]
2023-07-13 08:46:03.566  INFO 4776 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Starting MovieappApplicationTests using Java 19.0.1 on DESKTOP-HC83FG2 with PID 4776 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:46:03.566 DEBUG 4776 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:46:03.567  INFO 4776 --- [main] c.rbp.movieapp.MovieappApplicationTests  : No active profile set, falling back to 1 default profile: "default"
2023-07-13 08:46:04.352  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:46:04.405  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:46:04.759  INFO 4776 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@52b2713a], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@4ec0229c]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@54e39504], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:46:04.773  INFO 4776 --- [cluster-rtt-ClusterId{value='64af6c74c41a5861b71ba243', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:122}] to localhost:27017
2023-07-13 08:46:04.770  INFO 4776 --- [cluster-ClusterId{value='64af6c74c41a5861b71ba243', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:121}] to localhost:27017
2023-07-13 08:46:06.347  INFO 4776 --- [cluster-ClusterId{value='64af6c74c41a5861b71ba243', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=8113400}
2023-07-13 08:46:07.769  INFO 4776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:46:07.857  INFO 4776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77e42cbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68bef3df, org.springframework.security.web.context.SecurityContextPersistenceFilter@1c3eeda4, org.springframework.security.web.header.HeaderWriterFilter@3eb6d7a9, org.springframework.web.filter.CorsFilter@6aeb769d, org.springframework.security.web.authentication.logout.LogoutFilter@49e8548d, com.rbp.movieapp.security.jwt.AuthTokenFilter@51f412e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64b242b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cb1da13, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7234db3, org.springframework.security.web.session.SessionManagementFilter@345f4e0d, org.springframework.security.web.access.ExceptionTranslationFilter@683218c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@638b05fb]
2023-07-13 08:46:08.440  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:46:08.445  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#eb5471c:0/SimpleConnection@183e8c8a [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57272]
2023-07-13 08:46:08.460  INFO 4776 --- [main] c.rbp.movieapp.MovieappApplicationTests  : Started MovieappApplicationTests in 4.976 seconds (JVM running for 23.921)
2023-07-13 08:46:08.465  INFO 4776 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:123}] to localhost:27017
2023-07-13 08:46:09.582  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.rbp.movieapp.controller.MovieAppControllerTest], using SpringBootContextLoader
2023-07-13 08:46:09.586  INFO 4776 --- [main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-07-13 08:46:09.587  INFO 4776 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.rbp.movieapp.controller.MovieAppControllerTest]: MovieAppControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-13 08:46:09.609  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.rbp.movieapp.MovieappApplication for test class com.rbp.movieapp.controller.MovieAppControllerTest
2023-07-13 08:46:09.666  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-07-13 08:46:09.667  INFO 4776 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@67d6bb59, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1a632663, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1147ab09, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@503b5337, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@265361a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@136480b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2d85a4c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@272de8ab, org.springframework.test.context.event.EventPublishingTestExecutionListener@c53dfb2, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3f16a823, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@3fb5809a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77954f77, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6529b078, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6f744b4e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7cd6b76a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2165b170, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@9677f54]
2023-07-13 08:46:09.723  INFO 4776 --- [main] c.r.m.controller.MovieAppControllerTest  : Starting MovieAppControllerTest using Java 19.0.1 on DESKTOP-HC83FG2 with PID 4776 (started by 91902 in C:\Users\91902\Desktop\cts-main)
2023-07-13 08:46:09.723 DEBUG 4776 --- [main] c.r.m.controller.MovieAppControllerTest  : Running with Spring Boot v2.7.10, Spring v5.3.26
2023-07-13 08:46:09.723  INFO 4776 --- [main] c.r.m.controller.MovieAppControllerTest  : The following 1 profile is active: "test"
2023-07-13 08:46:10.357  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-07-13 08:46:10.423  INFO 4776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 4 MongoDB repository interfaces.
2023-07-13 08:46:11.003  INFO 4776 --- [main] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 10", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/19.0.1+10-21"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@6ee0ef34], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@4ec0229c]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@ab5d5c8], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-07-13 08:46:11.015  INFO 4776 --- [cluster-ClusterId{value='64af6c7bc41a5861b71ba24c', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:124}] to localhost:27017
2023-07-13 08:46:11.016  INFO 4776 --- [cluster-ClusterId{value='64af6c7bc41a5861b71ba24c', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6432400}
2023-07-13 08:46:11.018  INFO 4776 --- [cluster-rtt-ClusterId{value='64af6c7bc41a5861b71ba24c', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:8, serverValue:125}] to localhost:27017
2023-07-13 08:46:13.676  INFO 4776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2023-07-13 08:46:13.737  INFO 4776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e903c69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dc37d4f, org.springframework.security.web.context.SecurityContextPersistenceFilter@24fcfdb, org.springframework.security.web.header.HeaderWriterFilter@10cb1b89, org.springframework.web.filter.CorsFilter@4f290f46, org.springframework.security.web.authentication.logout.LogoutFilter@13c79e0d, com.rbp.movieapp.security.jwt.AuthTokenFilter@2bfe398b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2eebb07, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ab1ff80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a23be9, org.springframework.security.web.session.SessionManagementFilter@19b7852b, org.springframework.security.web.access.ExceptionTranslationFilter@7e0fc5d0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71d2bc34]
2023-07-13 08:46:14.376  INFO 4776 --- [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-07-13 08:46:14.376  INFO 4776 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-07-13 08:46:14.378  INFO 4776 --- [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-07-13 08:46:14.410  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2023-07-13 08:46:14.417  INFO 4776 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#bf32f3f:0/SimpleConnection@18bd3135 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 57277]
2023-07-13 08:46:14.438  INFO 4776 --- [main] c.r.m.controller.MovieAppControllerTest  : Started MovieAppControllerTest in 4.767 seconds (JVM running for 29.899)
2023-07-13 08:46:14.441  INFO 4776 --- [main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:9, serverValue:126}] to localhost:27017
2023-07-13 08:46:15.569 DEBUG 4776 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:46:15.570 DEBUG 4776 --- [main] c.r.movieapp.controller.MovieController  : currently no movies are available
2023-07-13 08:46:15.584 DEBUG 4776 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies
2023-07-13 08:46:15.602 DEBUG 4776 --- [main] c.r.movieapp.controller.MovieController  : here search a movie by its name
2023-07-13 08:46:15.603 DEBUG 4776 --- [main] c.r.movieapp.controller.MovieController  : listed the available movies with title:Movie
2023-07-13 08:46:15.682  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:46:15.787  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:46:15.791  INFO 4776 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:46:15.823  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:46:16.522  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:46:16.526  INFO 4776 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
2023-07-13 08:46:16.559  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2023-07-13 08:46:17.438  INFO 4776 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2023-07-13 08:46:17.439  INFO 4776 --- [SpringApplicationShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped
